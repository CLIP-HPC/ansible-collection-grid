# the following variable specifies one or several virtual mount points
# export XROOTD_VMP="machine1:port1:/grid/ftp/mount/point1=/xrootd/corresponding/path1 machine2:port2:/grid/ftp/mount/point2=/xrootd/corresponding/path2 ..."
# the foloowing environment variables enable some eos specifics
# the value of the variable doesn't matter, it works on a defined / not defined basis
# XROOTD_DSI_EOS_CKS      # enable EOS checksum
# XROOTD_DSI_EOS_CHMOD    # enable EOS chmod
# XROOTD_DSI_EOS_APPTAG   # enable EOS apptag to specify that requests are from the DSI gridftp plugin
# XROOTD_DSI_EOS_BOOK     # enable EOS space booking when receiving a file

export XROOTD_DSI_EOS=1         # enable ALL the EOS specifics
export GLOBUS_THREAD_MODEL=pthread
export XROOTD_VMP="{{ role_gridftp_vmp }}"

export GLOBUS_GRIDFTP_DEBUGLOG_LEVEL="warn,error,info,debug"


#http://gridpp-storage.blogspot.com/2019/10/modern-account-mapping-for-cephxrootd.html
export LLGT_RUN_LCAS=no
export LLGT_LIFT_PRIVILEGED_PROTECTION=1

# enable LCMAPS debugging if required
# export LCMAPS_DEBUG_LEVEL=3
# optional (uncomment the following line to output log messages to a file):
# export LCMAPS_LOG_FILE=/tmp/lcmaps.log


export GLOBUS_ERROR_VERBOSE="1"
export GLOBUS_TCP_PORT_RANGE="{{ role_gridftp_port_start}},{{ role_gridftp_port_end }}"

# this is actually done in the init script ...
# can't tell wehter XRD_RUNFORKHANDLERS or XRD_RUNFORKHANDLER (singular vs plural, too many variants on the inter webs, I'd vote for singular, but who knows)
export XRD_RUNFORKHANDLERS=1
export XRD_RUNFORKHANDLER=1


# try some debugging
# export XRD_LOGLEVEL=Debug